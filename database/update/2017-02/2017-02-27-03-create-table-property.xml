<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	<changeSet id="Setup" author="Daniel T Wilkes">
		<sql>
			CREATE TABLE IF NOT EXISTS ${database.defaultSchemaName}.property
				(
					id serial NOT NULL,
					propertyName VARCHAR(50) NOT NULL,
					owner_id serial NOT NULL,
					address_id serial NOT NULL,
					CONSTRAINT property_owner_fk FOREIGN KEY (owner_id) references ${database.defaultSchemaName}.renter(id),
					CONSTRAINT property_address_fk FOREIGN KEY (address_id) references ${database.defaultSchemaName}.address(id),
   					CONSTRAINT property_pk PRIMARY KEY (id)
				) WITH (
					OIDS=FALSE
				)
		</sql>
		<rollback>
			DROP TABLE IF EXISTS ${database.defaultSchemaName}.property
		</rollback>
	</changeSet>	
</databaseChangeLog>